/// Resource schema for AWS::ImageBuilder::ImagePipeline
extends ".../AWS/Resource.pkl"
Type = "AWS::ImageBuilder::ImagePipeline"
Properties: Props?
class Props {
    /// The Amazon Resource Name (ARN) of the image pipeline.
    Arn: String?
    /// The name of the image pipeline.
    Name: String?
    /// The description of the image pipeline.
    Description: String?
    /// The image tests configuration of the image pipeline.
    ImageTestsConfiguration: ImageTestsConfiguration?
    /// The status of the image pipeline.
    Status: "DISABLED" | "ENABLED" | *Null
    /// The schedule of the image pipeline.
    Schedule: Schedule?
    /// The Amazon Resource Name (ARN) of the image recipe that defines how
    /// images are configured, tested, and assessed.
    ImageRecipeArn: String?
    /// The Amazon Resource Name (ARN) of the container recipe that defines
    /// how images are configured and tested.
    ContainerRecipeArn: String?
    /// The Amazon Resource Name (ARN) of the distribution configuration
    /// associated with this image pipeline.
    DistributionConfigurationArn: String?
    /// The Amazon Resource Name (ARN) of the infrastructure configuration
    /// associated with this image pipeline.
    InfrastructureConfigurationArn: String?
    /// Workflows to define the image build process
    Workflows: Listing<WorkflowConfiguration>?
    /// Collects additional information about the image being created,
    /// including the operating system (OS) version and package list.
    EnhancedImageMetadataEnabled: Boolean?
    /// Contains settings for vulnerability scans.
    ImageScanningConfiguration: ImageScanningConfiguration?
    /// The execution role name/ARN for the image build, if provided
    ExecutionRole: String?
    /// The tags of this image pipeline.
    Tags: Mapping?
}
/// Image tests configuration.
class ImageTestsConfiguration {
    /// Defines if tests should be executed when building this image.
    ImageTestsEnabled: Boolean?
    /// The maximum time in minutes that tests are permitted to run.
    TimeoutMinutes: Int?
}
/// The schedule of the image pipeline.
class Schedule {
    /// The expression determines how often EC2 Image Builder evaluates your
    /// pipelineExecutionStartCondition.
    ScheduleExpression: String?
    /// The condition configures when the pipeline should trigger a new image
    /// build.
    PipelineExecutionStartCondition: "EXPRESSION_MATCH_ONLY" | "EXPRESSION_MATCH_AND_DEPENDENCY_UPDATES_AVAILABLE" | *Null
}
/// The workflow configuration of the image
class WorkflowConfiguration {
    /// The Amazon Resource Name (ARN) of the workflow
    WorkflowArn: String?
    /// The parameters associated with the workflow
    Parameters: Listing<WorkflowParameter>?
    /// The parallel group name
    ParallelGroup: String?
    /// Define execution decision in case of workflow failure
    OnFailure: "CONTINUE" | "ABORT" | *Null
}
/// A parameter associated with the workflow
class WorkflowParameter {
    Name: String?
    Value: Listing<String>?
}
/// Determines if tests should run after building the image. Image Builder
/// defaults to enable tests to run following the image build, before
/// image distribution.
class ImageScanningConfiguration {
    /// Contains ECR settings for vulnerability scans.
    EcrConfiguration: EcrConfiguration?
    /// This sets whether Image Builder keeps a snapshot of the vulnerability
    /// scans that Amazon Inspector runs against the build instance when you
    /// create a new image.
    ImageScanningEnabled: Boolean?
}
/// Settings for Image Builder to configure the ECR repository and output
/// container images that are scanned.
class EcrConfiguration {
    /// Tags for Image Builder to apply the output container image that is
    /// scanned. Tags can help you identify and manage your scanned images.
    ContainerTags: Listing<String>?
    /// The name of the container repository that Amazon Inspector scans to
    /// identify findings for your container images. The name includes the
    /// path for the repository location. If you don't provide this
    /// information, Image Builder creates a repository in your account named
    /// image-builder-image-scanning-repository to use for vulnerability scans
    /// for your output container images.
    RepositoryName: String?
}
