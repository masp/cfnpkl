/// An example resource schema demonstrating some basic constructs and
/// validation rules.
extends ".../AWS/Resource.pkl"
Type = "AWS::AppConfig::ConfigurationProfile"
Properties: Props?
class Props {
    /// A URI to locate the configuration. You can specify the AWS AppConfig
    /// hosted configuration store, Systems Manager (SSM) document, an SSM
    /// Parameter Store parameter, or an Amazon S3 object.
    LocationUri: String(length <= 2048 && length >= 1)?
    /// The type of configurations contained in the profile. When calling this
    /// API, enter one of the following values for Type:
    /// AWS.AppConfig.FeatureFlags, AWS.Freeform
    Type: String(matches(Regex(#"^[a-zA-Z\.]+"#)))?
    /// A description of the configuration profile.
    Description: String(length <= 1024 && length >= 0)?
    /// A list of methods for validating the configuration.
    Validators: Listing<Validators>?
    /// The ARN of an IAM role with permission to access the configuration at
    /// the specified LocationUri.
    RetrievalRoleArn: String(length <= 2048 && length >= 20 && matches(Regex(#"^((arn):(aws|aws-cn|aws-iso|aws-iso-[a-z]{1}|aws-us-gov):(iam)::\d{12}:role[/].*)$"#)))?
    /// The configuration profile ID
    ConfigurationProfileId: String?
    /// The application ID.
    ApplicationId: String(matches(Regex(#"[a-z0-9]{4,7}"#)))?
    /// Metadata to assign to the configuration profile. Tags help organize
    /// and categorize your AWS AppConfig resources. Each tag consists of a
    /// key and an optional value, both of which you define.
    Tags: Listing<Tags>?
    /// A name for the configuration profile.
    Name: String(length <= 128 && length >= 1)?
    /// The AWS Key Management Service key identifier (key ID, key alias, or
    /// key ARN) provided when the resource was created or updated.
    KmsKeyIdentifier: String(matches(Regex(#"^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}|alias/[a-zA-Z0-9/_-]{1,250}|arn:aws[a-zA-Z-]*:kms:[a-z]{2}(-gov|-iso(b?))?-[a-z]+-\d{1}:\d{12}:(key/[0-9a-f-]{36}|alias/[a-zA-Z0-9/_-]{1,250})$"#)))?
    /// The Amazon Resource Name of the AWS Key Management Service key to
    /// encrypt new configuration data versions in the AWS AppConfig hosted
    /// configuration store. This attribute is only used for hosted
    /// configuration types. To encrypt data managed in other configuration
    /// stores, see the documentation for how to specify an AWS KMS key for
    /// that particular service.
    KmsKeyArn: String(length <= 2048 && length >= 20 && matches(Regex(#"arn:(aws[a-zA-Z-]*)?:[a-z]+:([a-z]{2}((-gov)|(-iso(b?)))?-[a-z]+-\d{1})?:(\d{12})?:[a-zA-Z0-9-_/:.]+"#)))?
}
/// A list of methods for validating the configuration.
class Validators {
    /// AWS AppConfig supports validators of type JSON_SCHEMA and LAMBDA.
    Type: String?
    /// Either the JSON Schema content or the Amazon Resource Name (ARN) of an
    /// Lambda function.
    Content: String(length <= 32768 && length >= 0)?
}
/// Metadata to assign to the configuration profile. Tags help organize
/// and categorize your AWS AppConfig resources. Each tag consists of a
/// key and an optional value, both of which you define.
class Tags {
    /// The key-value string map. The tag key can be up to 128 characters and
    /// must not start with aws:.
    Key: String(length <= 128 && length >= 1 && matches(Regex(#"^(?!aws:.)[a-zA-Z0-9 +=._:/-]*$"#)))?
    /// The tag value can be up to 256 characters.
    Value: String(length <= 256 && length >= 0)?
}
